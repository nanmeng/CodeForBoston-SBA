<head>
<title>Leaflet</title>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.3.1/leaflet.css" />
<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.3.1/leaflet.js"></script>
<script src="http://maps.google.com/maps/api/js?v=3.2&sensor=false"></script>
<script src="http://matchingnotes.com/javascripts/leaflet-google.js"></script>
</head>
<body>
<select id="filters">
  <option value="B19326_002E">Median income in the past 12 months (in 2012 inflation-adjusted dollars) Male Total (dollars)</option>
  <option value="B05006">Country of Birth (non-US)</option>
  <option value="B19001">Household Income</option>
  <option value="B08301">Means of Transportation to Work</option>
  <option value="B14007H_018E">Enrolled in Graduate School</option>
  <option value="B14007H_017E">Enrolled in College</option>
</select>
<div style="width:500px; height:500px" id="map"></div>
<script type='text/javascript'>
// var map = new L.Map('map', {center: new L.LatLng(51.51, -0.11), zoom: 9});
var map = new L.Map('map', {center: new L.LatLng(42.3334, -71.0270), zoom: 9});
var googleLayer = new L.Google('ROADMAP');
map.addLayer(googleLayer);
$.getJSON('geodata/tracts2010.json', function(data) {
  console.log(data);
});
$('#filters').on('change', function() {
  var census_var = this.value;
  console.log(this.value);
  $.ajax({
    url: 'http://api.census.gov/data/2012/acs5',
    data: {
      'for': 'tract:*',
      'in': 'state:25+county:*',
      'key': '2b4b319d9a6ffbcfa81e15e94da52aa46bd901ec',
      'get': this.value
    },
    dataType: 'json',
    success: function(data) {
      console.log(data);
    }
  });
});
</script>
</body>
